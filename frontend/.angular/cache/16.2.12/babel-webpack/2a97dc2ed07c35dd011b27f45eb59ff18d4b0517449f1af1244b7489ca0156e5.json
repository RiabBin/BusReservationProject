{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nexport let BusResultsComponent = class BusResultsComponent {\n  constructor(http) {\n    this.http = http;\n    this.buses = [];\n    this.selectedBusSeats = null;\n    this.selectedBusId = null;\n  }\n  viewSeats(busId) {\n    this.selectedBusId = busId;\n    const api = `https://localhost:57263/api/Bus/seats/${busId}`;\n    this.http.get(api).subscribe(res => this.selectedBusSeats = res, err => console.error('Seat API Error:', err));\n  }\n  bookSeat(busId, seat) {\n    if (seat.isBooked) {\n      alert(`Seat ${seat.seatNo} already booked!`);\n      return;\n    }\n    if (!confirm(`Book seat ${seat.seatNo}?`)) return;\n    const api = `https://localhost:57263/api/Bus/bookSeat?busId=${busId}&seatNo=${seat.seatNo}`;\n    this.http.post(api, {}).subscribe({\n      next: res => {\n        alert(res.message);\n        seat.isBooked = true; // Frontend update\n      },\n\n      error: err => {\n        console.error('Booking Error:', err);\n        alert('Booking failed!');\n      }\n    });\n  }\n};\n__decorate([Input()], BusResultsComponent.prototype, \"buses\", void 0);\nBusResultsComponent = __decorate([Component({\n  selector: 'app-bus-results',\n  templateUrl: './bus-results.component.html',\n  styleUrls: ['./bus-results.component.css']\n})], BusResultsComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}